package com.alphaware.services;

import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;

import com.alphaware.entities.Employee;
import com.alphaware.exceptions.AlreadyExistException;
import com.alphaware.iservices.IEmployeeService;
import com.alphaware.repositories.IEmployeeRepository;

public class EmployeeService implements IEmployeeService {

	@Autowired
	private IEmployeeRepository employeeRepository;
	
	@Override
	public Employee addEmployee(Employee employee) throws AlreadyExistException {
	    employeeRepository.findById(employee.getId())
	            .ifPresentOrElse(
	                    existingEmployee -> {
	                        throw new AlreadyExistException("Employee with ID " + employee.getId() + " already exists.");
	                    },
	                    () -> employeeRepository.save(employee)
	            );

	    return employee; // Assuming you want to return the saved employee
	}

	}
